{"version":3,"sources":["../../../src/app.js"],"names":["data","$","document","ready","tooltip","infoHeading","infoParagraph","adviceList","moreInfoLink","moreInfoPanel","resetBtn","navbarHeader","resetBtnText","UI","navbarHeaderText","simulationHeadingText","simulations","heading","adviceDropdown","adviceDropdownText","infoDropdown","infoDropdownText","text","each","i","value","choices","key","click","menuBtn","menuBtnId","id","attr","fact","facts","find","findProperty","listItems","moreInfo","moreInfoLinkText","moreInfoUrl","name","chrome","browserAction","setIcon","path","storage","sync","set","empty","hide","animate","left","parseInt","css","outerWidth","append","closest","show","runtime","onMessage","addListener","request","type","get","obj","activeSimulation","resetSimulation","remove","tabs","create","url","linkUrl","on","parent","toggle","window","onload"],"mappings":"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","file":"babel.js","sourcesContent":["import {reset} from '../../src/simulations/general/reset/index.js'\r\nimport {loadingModal} from '../../src/simulations/general/loading/index.js'\r\nimport {farsightedness} from '../../src/simulations/farsightedness/index.js'\r\nimport {tunnelVision} from '../../src/simulations/tunnelVision/index.js'\r\nimport {redGreenColorBlindness} from '../../src/simulations/colorBlindness/redGreenColorBlindness/index.js'\r\nimport {yellowBlueColorBlindness} from '../../src/simulations/colorBlindness/yellowBlueColorBlindness/index.js'\r\nimport {totalColorBlindness} from '../../src/simulations/colorBlindness/totalColorBlindness/index.js'\r\nimport * as data from '../../src/UI/data/data.json';\r\n\r\n\r\n$(document).ready(() => {\r\n\r\n  const tooltip = $( \".tool-tip\" );\r\n  const infoHeading = $(\".disability-info-heading\"); \r\n  const infoParagraph = $( \".disability-info-paragraph\" ); \r\n  const adviceList = $( \".advice-list\" ); \r\n  const moreInfoLink = $( \".more-info-link\" ); \r\n  const moreInfoPanel = $( \"#more-info-panel\" ); \r\n  const resetBtn = $(\"#reset-btn\"); \r\n  const navbarHeader = $(\".navbar-header\");\r\n  const resetBtnText = data.UI[0].resetBtnText; \r\n  const navbarHeaderText = data.UI[0].navbarHeaderText; \r\n  const simulationHeadingText = data.UI[0].simulations[0].heading; \r\n  const adviceDropdown = $(\"#advice-dropdown\");\r\n  const adviceDropdownText = data.UI[0].adviceDropdownText; \r\n  const infoDropdown = $(\"#info-dropdown\");\r\n  const infoDropdownText = data.UI[0].infoDropdownText; \r\n\r\n  //Append UI texts\r\n\r\n  navbarHeader.text(navbarHeaderText); \r\n  resetBtn.text(resetBtnText); \r\n  infoDropdown.text(infoDropdownText);\r\n  adviceDropdown.text(adviceDropdownText);\r\n\r\n  $.each(data.UI[0].simulations, (i, value) => {\r\n\r\n    $(`#${value.heading}`).text(value.heading); \r\n    \r\n    $.each(value.choices, (i, value) => {\r\n      for(const key in value) {\r\n        $(`#${key}`).text(value[key]);\r\n      }\r\n    });\r\n\r\n  });\r\n\r\n  //menu button click\r\n\r\n  $(\".menu-btn\").click(function(){\r\n\r\n    const menuBtn = $(this); \r\n    const menuBtnId = menuBtn[0].id;\r\n    const id = menuBtn.attr(\"id\");\r\n    const fact = data.facts.find(findProperty).fact; \r\n    const listItems = data.facts.find(findProperty).listItems; \r\n    const moreInfo = data.facts.find(findProperty).moreInfoLinkText; \r\n    const moreInfoUrl = data.facts.find(findProperty).moreInfoUrl; \r\n\r\n    function findProperty(simulations) { \r\n      return simulations.name === id;\r\n    }\r\n\r\n    chrome.browserAction.setIcon({\r\n      path : \"img/icon_active.png\"\r\n    });\r\n\r\n    chrome.storage.sync.set({'activeSimulation': menuBtnId});\r\n    chrome.storage.sync.set({'linkUrl': moreInfoUrl});\r\n\r\n    infoHeading.empty();\r\n    infoParagraph.empty();\r\n    adviceList.empty();\r\n    moreInfoLink.empty(); \r\n    moreInfoPanel.hide();\r\n\r\n    tooltip.animate({\r\n      left: parseInt(tooltip.css('left'),10) == 0 ?\r\n        -tooltip.outerWidth() :\r\n        0\r\n    });\r\n\r\n    infoHeading.append(menuBtn.text());\r\n\r\n    menuBtn.closest(\".dropdown\").find(\".selected\").text(menuBtn.text());\r\n\r\n    infoParagraph.append(fact);\r\n      \r\n    $.each(listItems, (i, value) => {\r\n      adviceList.append(`<li>${value}</li>`);\r\n    });\r\n\r\n    if(moreInfo) {\r\n      moreInfoPanel.show();\r\n      moreInfoLink.append(moreInfo);\r\n    }\r\n\r\n    moreInfoLink.attr(\"href\",`${moreInfoUrl}`);\r\n\r\n    loadingModal();\r\n    \r\n  });\r\n\r\n  //when loading modal is closed, show chosen simulation\r\n\r\n  chrome.runtime.onMessage.addListener(request => {\r\n\r\n    if (request.type == \"modalClosed\"){\r\n\r\n      chrome.storage.sync.get('activeSimulation', obj => {\r\n\r\n        if(obj.activeSimulation == \"farsightedness\") {\r\n            farsightedness();\r\n        }\r\n\r\n        if (obj.activeSimulation == \"tunnelVision\") {\r\n          tunnelVision();\r\n        } \r\n\r\n        if (obj.activeSimulation == \"redGreenColorBlindness\") {\r\n          redGreenColorBlindness();\r\n        }\r\n\r\n        if (obj.activeSimulation == \"yellowBlueColorBlindness\") {\r\n          yellowBlueColorBlindness();\r\n        }\r\n\r\n        if (obj.activeSimulation == \"yellowBlueColorBlindness\") {\r\n          yellowBlueColorBlindness();\r\n        }\r\n\r\n        if (obj.activeSimulation == \"totalColorBlindness\") {\r\n          totalColorBlindness();\r\n        }\r\n\r\n      }); \r\n\r\n    }\r\n\r\n  });\r\n\r\n  //reset extension\r\n  \r\n  function resetSimulation(){\r\n    \r\n    chrome.browserAction.setIcon({\r\n      path : \"img/icon.png\"\r\n    });\r\n\r\n    tooltip.animate({\r\n      left: parseInt(tooltip.css('marginLeft'),10) == 0 ?\r\n        tooltip.outerWidth() :\r\n        0\r\n    }); \r\n    \r\n    $(\"#Syn\").text(\"Syn\");\r\n    $(\"#Motorik\").text(\"Motorik\"); \r\n\r\n    reset();\r\n    chrome.storage.sync.remove('activeSimulation');\r\n    \r\n  }\r\n\r\n  //btn and links\r\n\r\n  $(\"#reset-btn\").click(() => {\r\n    resetSimulation(); \r\n  });\r\n\r\n  $(\".github-link\").click(() => {\r\n    chrome.tabs.create({url: 'https://github.com/Metamatrix/Web-Disability-Simulator'}); \r\n  });\r\n \r\n  $(\".more-info-link\").click(() => {\r\n    chrome.storage.sync.get('linkUrl', obj => {\r\n      chrome.tabs.create({url: `${obj.linkUrl}`}); \r\n    }); \r\n  }); \r\n\r\n  //panel collapse, show arrows: \r\n\r\n  $('.collapse').on('shown.bs.collapse', function(){\r\n      $(this).parent().find(\".down-arrow, .up-arrow\").toggle();\r\n    }).on('hidden.bs.collapse', function(){\r\n      $(this).parent().find(\".down-arrow, .up-arrow\").toggle();\r\n  });\r\n\r\n  //keep chosen simulation fact tooltip when extension is closed and opened again. \r\n\r\n  window.onload = () => {\r\n\r\n      chrome.storage.sync.get('activeSimulation', obj => {\r\n    \r\n      const activeSimulation = obj.activeSimulation;\r\n      \r\n      function findProperty(simulations) { \r\n        return simulations.name === activeSimulation;\r\n      }\r\n\r\n      if (activeSimulation != null) {\r\n\r\n        tooltip.css(\"left\", \"0\");\r\n\r\n        infoHeading.append( $(`#${activeSimulation}`).text() );\r\n\r\n        $(`#${activeSimulation}`).closest(\".dropdown\").find(\".selected\").text($(`#${activeSimulation}`).text());\r\n\r\n        const id = $(`#${activeSimulation}`).attr(\"id\");\r\n\r\n        const fact = data.facts.find(findProperty).fact; \r\n        const listItems = data.facts.find(findProperty).listItems; \r\n        const moreInfo = data.facts.find(findProperty).moreInfoLinkText;\r\n        const moreInfoUrl = data.facts.find(findProperty).moreInfoUrl;\r\n\r\n        infoParagraph.append(fact);\r\n              \r\n        $.each(listItems, (i, value) => {\r\n          adviceList.append(`<li>${value}</li>`);\r\n        });\r\n\r\n        if(moreInfo) {\r\n          moreInfoPanel.show();\r\n          moreInfoLink.append(moreInfo);\r\n        }\r\n\r\n        moreInfoLink.attr(\"href\",`${moreInfoUrl}`);\r\n\r\n     }\r\n\r\n    }); \r\n  \r\n  };\r\n  \r\n});"]}