{"version":3,"sources":["../../../src/app.js"],"names":["data","$","document","ready","tooltip","infoHeading","infoParagraph","adviceList","moreInfoParagraph","moreInfoPanel","resetBtn","navbarHeader","resetBtnText","UI","navbarHeaderText","append","click","menuBtn","menuBtnId","id","attr","fact","facts","find","findProperty","listItems","moreInfo","chrome","browserAction","setIcon","path","storage","sync","set","empty","hide","animate","left","parseInt","css","outerWidth","text","closest","simulations","name","each","i","value","show","hasClass","resetSimulation","remove","tabs","create","url","on","parent","toggle","window","onload","get","activeSimulation","obj"],"mappings":"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","file":"babel.js","sourcesContent":["import {resetCSS} from '../../src/simulations/general.js'\r\nimport {farsightedness} from '../../src/simulations/farsightedness/index.js'\r\nimport {tunnelVision} from '../../src/simulations/tunnelVision/index.js'\r\nimport {redGreenColorBlindness} from '../../src/simulations/redGreenColorBlindness/index.js'\r\nimport * as data from '../../src/UI/data/data.json';\r\n\r\n\r\n$(document).ready(() => {\r\n\r\n  const tooltip = $( \".tool-tip\" );\r\n  const infoHeading = $(\".disability-info-heading\"); \r\n  const infoParagraph = $( \".disability-info-paragraph\" ); \r\n  const adviceList = $( \".advice-list\" ); \r\n  const moreInfoParagraph = $( \".more-info-paragraph\" ); \r\n  const moreInfoPanel = $( \"#more-info-panel\" ); \r\n  const resetBtn = $(\"#reset-btn\"); \r\n  const navbarHeader = $(\".navbar-header\");\r\n  const resetBtnText = data.UI[0].resetBtnText; \r\n  const navbarHeaderText = data.UI[0].navbarHeaderText; \r\n\r\n  navbarHeader.append(navbarHeaderText); \r\n  resetBtn.append(resetBtnText); \r\n\r\n  //menu button click\r\n  \r\n  $(\".menu-btn\").click(function(){\r\n\r\n    const menuBtn = $(this); \r\n    const menuBtnId = menuBtn[0].id;\r\n    const id = menuBtn.attr(\"id\");\r\n    const fact = data.facts.find(findProperty).fact; \r\n    const listItems = data.facts.find(findProperty).listItems; \r\n    const moreInfo = data.facts.find(findProperty).moreInfo; \r\n\r\n    chrome.browserAction.setIcon({\r\n      path : \"img/icon_active.png\"\r\n    });\r\n\r\n    chrome.storage.sync.set({'activeSimulation': menuBtnId});\r\n\r\n    infoHeading.empty();\r\n    infoParagraph.empty();\r\n    adviceList.empty();\r\n    moreInfoParagraph.empty(); \r\n    moreInfoPanel.hide();\r\n\r\n    tooltip.animate({\r\n      left: parseInt(tooltip.css('left'),10) == 0 ?\r\n        -tooltip.outerWidth() :\r\n        0\r\n    });\r\n\r\n    infoHeading.append(menuBtn.text());\r\n\r\n    menuBtn.closest(\".dropdown\").find(\".selected\").text(menuBtn.text());\r\n\r\n    function findProperty(simulations) { \r\n      return simulations.name === id;\r\n    }\r\n\r\n    infoParagraph.append(fact);\r\n      \r\n    $.each(listItems, (i, value) => {\r\n      adviceList.append(`<li>${value}</li>`);\r\n    });\r\n\r\n    if(moreInfo) {\r\n      moreInfoPanel.show();\r\n      moreInfoParagraph.append(moreInfo);\r\n    }\r\n\r\n    if (menuBtn.hasClass(\"farsightedness\")) {\r\n      farsightedness();\r\n    } \r\n\r\n    if (menuBtn.hasClass(\"tunnelVision\")) {\r\n      tunnelVision();\r\n    } \r\n\r\n    if (menuBtn.hasClass(\"redGreenColorBlindness\")) {\r\n      redGreenColorBlindness();\r\n    }\r\n    \r\n  });\r\n\r\n  function resetSimulation(){\r\n    chrome.browserAction.setIcon({\r\n      path : \"img/icon.png\"\r\n    });\r\n\r\n    tooltip.animate({\r\n      left: parseInt(tooltip.css('marginLeft'),10) == 0 ?\r\n        tooltip.outerWidth() :\r\n        0\r\n    }); \r\n    \r\n    $(\"#Syn\").text(\"Syn\");\r\n    $(\"#Motorik\").text(\"Motorik\"); \r\n\r\n    resetCSS();\r\n    chrome.storage.sync.remove('activeSimulation');\r\n  }\r\n\r\n  //reset-btn click\r\n\r\n  $(\"#reset-btn\").click(() => {\r\n    resetSimulation(); \r\n  });\r\n\r\n  //github link click \r\n\r\n  $(\".github-link\").click(() => {\r\n    chrome.tabs.create({url: 'https://github.com/Metamatrix/Web-Disability-Simulator'}); \r\n  });\r\n\r\n  //panel collapse, show arrows: \r\n\r\n  $('.collapse').on('shown.bs.collapse', function(){\r\n      $(this).parent().find(\".down-arrow, .up-arrow\").toggle();\r\n    }).on('hidden.bs.collapse', function(){\r\n      $(this).parent().find(\".down-arrow, .up-arrow\").toggle();\r\n  });\r\n\r\n  //keep chosen simulation fact tooltip when extension is closed and opened again. \r\n\r\n  window.onload = () => {\r\n\r\n      chrome.storage.sync.get('activeSimulation', obj => {\r\n    \r\n      const activeSimulation = obj.activeSimulation;\r\n      \r\n      function findProperty(simulations) { \r\n        return simulations.name === activeSimulation;\r\n      }\r\n\r\n      if (activeSimulation != null) {\r\n\r\n        tooltip.css(\"left\", \"0\");\r\n\r\n        infoHeading.append( $(`#${activeSimulation}`).text() );\r\n\r\n        $(`#${activeSimulation}`).closest(\".dropdown\").find(\".selected\").text($(`#${activeSimulation}`).text());\r\n\r\n        const id = $(`#${activeSimulation}`).attr(\"id\");\r\n\r\n        const fact = data.facts.find(findProperty).fact; \r\n        const listItems = data.facts.find(findProperty).listItems; \r\n        const moreInfo = data.facts.find(findProperty).moreInfo;\r\n\r\n        infoParagraph.append(fact);\r\n              \r\n        $.each(listItems, (i, value) => {\r\n          adviceList.append(`<li>${value}</li>`);\r\n        });\r\n\r\n        if(moreInfo) {\r\n          moreInfoPanel.show();\r\n          moreInfoParagraph.append(moreInfo);\r\n        }\r\n\r\n     }\r\n\r\n    }); \r\n  \r\n  };\r\n\r\n//function that runs when tab is reloaded\r\n/*  chrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\r\n    resetSimulation();\r\n  });*/\r\n  \r\n});"]}